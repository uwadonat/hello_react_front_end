{"ast":null,"code":"const DISPLAY_GREETINGS = 'HELLO/DISPLAY_GREETINGS';\n\nconst loadGreetings = json => ({\n  type: DISPLAY_GREETINGS,\n  json\n});\n\nconst greetingReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case DISPLAY_GREETINGS:\n      return action.json.map(message => {\n        const {\n          id,\n          greeting\n        } = message;\n        return {\n          id,\n          greeting\n        };\n      });\n\n    default:\n      return state;\n  }\n};\n\nconst getGreetings = () => dispatch => {\n  fetch('https://hello-world-rails-react-api.herokuapp.com/api/v1/messages').then(Response => Response.json()).then(json => dispatch(loadGreetings(json)));\n};\n\nexport { loadGreetings, greetingReducer, getGreetings };","map":{"version":3,"sources":["/home/donat/Documents/last-hello-rails-react/hello_react_front_end/src/redux/Greetings.js"],"names":["DISPLAY_GREETINGS","loadGreetings","json","type","greetingReducer","state","action","map","message","id","greeting","getGreetings","dispatch","fetch","then","Response"],"mappings":"AAAA,MAAMA,iBAAiB,GAAG,yBAA1B;;AAEA,MAAMC,aAAa,GAAIC,IAAD,KAAW;AAC/BC,EAAAA,IAAI,EAAEH,iBADyB;AAE/BE,EAAAA;AAF+B,CAAX,CAAtB;;AAKA,MAAME,eAAe,GAAG,YAAwB;AAAA,MAAvBC,KAAuB,uEAAf,EAAe;AAAA,MAAXC,MAAW;;AAC9C,UAAQA,MAAM,CAACH,IAAf;AACE,SAAKH,iBAAL;AACE,aAAOM,MAAM,CAACJ,IAAP,CAAYK,GAAZ,CAAiBC,OAAD,IAAa;AAClC,cAAM;AAAEC,UAAAA,EAAF;AAAMC,UAAAA;AAAN,YAAmBF,OAAzB;AACA,eAAO;AACLC,UAAAA,EADK;AAELC,UAAAA;AAFK,SAAP;AAID,OANM,CAAP;;AAOF;AACE,aAAOL,KAAP;AAVJ;AAYD,CAbD;;AAeA,MAAMM,YAAY,GAAG,MAAOC,QAAD,IAAc;AACvCC,EAAAA,KAAK,CAAC,mEAAD,CAAL,CACGC,IADH,CACSC,QAAD,IAAcA,QAAQ,CAACb,IAAT,EADtB,EAEGY,IAFH,CAESZ,IAAD,IAAUU,QAAQ,CAACX,aAAa,CAACC,IAAD,CAAd,CAF1B;AAGD,CAJD;;AAMA,SAASD,aAAT,EAAwBG,eAAxB,EAAyCO,YAAzC","sourcesContent":["const DISPLAY_GREETINGS = 'HELLO/DISPLAY_GREETINGS';\n\nconst loadGreetings = (json) => ({\n  type: DISPLAY_GREETINGS,\n  json,\n});\n\nconst greetingReducer = (state = [], action) => {\n  switch (action.type) {\n    case DISPLAY_GREETINGS:\n      return action.json.map((message) => {\n        const { id, greeting } = message;\n        return {\n          id,\n          greeting,\n        };\n      });\n    default:\n      return state;\n  }\n};\n\nconst getGreetings = () => (dispatch) => {\n  fetch('https://hello-world-rails-react-api.herokuapp.com/api/v1/messages')\n    .then((Response) => Response.json())\n    .then((json) => dispatch(loadGreetings(json)));\n};\n\nexport { loadGreetings, greetingReducer, getGreetings };\n"]},"metadata":{},"sourceType":"module"}